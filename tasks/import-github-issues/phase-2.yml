---
# yaml-language-server: $schema=https://raw.githubusercontent.com/dimfeld/llmutils/main/schema/tim-plan-schema.json
title: "Interactive Mode: List and Import Multiple Issues"
goal: Enhance the `tim import` command to support an interactive mode for
  selecting and importing multiple issues when no specific issue is provided.
id: 41
uuid: 6be1e8ce-b009-41cf-89a5-19e609cc46f8
status: done
priority: medium
dependencies:
  - 39
references:
  "39": bf4094fa-3ed4-4b65-8565-1048b2e1b7df
planGeneratedAt: 2025-06-06T08:55:25.742Z
promptsGeneratedAt: 2025-06-06T09:39:15.402Z
createdAt: 2025-06-06T05:40:44.136Z
updatedAt: 2025-10-27T08:39:04.305Z
project:
  title: Add `tim import` Command to Import GitHub Issues
  goal: The project aims to add a new `tim import` command that allows users to
    import GitHub issues and create corresponding local plan files. This will
    streamline the process of turning feature requests and bug reports from
    GitHub into actionable development plans within the `tim` ecosystem.
  details: The new command will support two primary modes of operation. When a
    specific issue is provided via a flag, it will import that single issue.
    Otherwise, it will enter an interactive mode, listing all open issues for
    the current repository, allowing the user to select multiple issues to
    import. A key requirement is to avoid creating duplicate plans. The command
    will check existing plan files and filter out any issues that have already
    been imported by looking for the issue's URL in the `issue` field of the
    plan files. For each issue being imported, the command will prompt the user
    to select which parts of the issue (the main body and any comments) should
    be included as the `details` for the new plan. It will also parse any
    `rmfilter` arguments embedded in the issue's text, similar to the `generate`
    command. The final output for each imported issue will be a "stub" plan
    file, containing metadata like the title, goal, details, and issue link, but
    with an empty task list, ready for further planning with `tim generate`.
    This feature shares significant functionality with the existing `tim
    generate` command, particularly around GitHub issue processing. A major goal
    is to reuse existing code from `generate` and its helper modules to ensure
    consistency and reduce implementation effort.
tasks:
  - title: Fetch Open Issues for the Current Repository
    done: true
    description: Implement a new function to fetch all open issues from the GitHub
      repository associated with the current working directory. This will
      involve using the `getGitRepository` utility to identify the repository
      and the Octokit library to make the API request.
  - title: Filter Out Already-Imported Issues
    done: true
    description: Before displaying the list of open issues, filter it to exclude any
      issues that are already linked in existing local plan files. This will be
      achieved by reading all plans using `readAllPlans` and checking the
      `issue` field of each plan against the URLs of the fetched issues.
  - title: Implement Interactive Issue Selection Prompt
    done: true
    description: Use the `@inquirer/prompts` library to create an interactive
      checklist prompt. This prompt will display the filtered list of importable
      issues, allowing the user to select one or more to import.
  - title: Orchestrate Multi-Issue Import Loop
    done: true
    description: Modify the `import` command handler to loop through the issues
      selected by the user. For each selected issue, it will call the
      single-issue import and file creation logic developed in Phase 1,
      effectively importing all chosen issues in one batch.
changedFiles:
  - src/common/github/issues.test.ts
  - src/common/github/issues.ts
  - src/tim/commands/import.test.ts
  - src/tim/commands/import.ts
rmfilter:
  - src/tim/commands/generate.ts
  - --with-imports
  - --
  - src/tim/tim.ts
---

This phase builds upon the single-issue import functionality to create a user-friendly, interactive workflow. When `tim import` is run without the `--issue` flag, it will fetch all open issues for the current repository. It will then filter out any issues that have already been imported by checking existing plan files. Finally, it will present the user with a checklist of remaining issues, allowing them to select multiple issues to import in a single operation.
